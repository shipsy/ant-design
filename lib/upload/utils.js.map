{"version":3,"sources":["upload/utils.jsx"],"names":["T","fileToObject","file","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","genPercentAdd","k","i","end","s","start","getFileItem","fileList","matchKey","undefined","filter","item","removeFileItem","removed","length"],"mappings":";;;;;;;;;;;;;AAAO,SAASA,CAAT,GAAa;AAChB,SAAO,IAAP;AACH,C,CACD;AACA;;;AACO,SAASC,YAAT,CAAsBC,IAAtB,EAA4B;AAC/B,SAAO,SAAc,EAAd,EAAkBA,IAAlB,EAAwB;AAAEC,IAAAA,YAAY,EAAED,IAAI,CAACC,YAArB;AAAmCC,IAAAA,gBAAgB,EAAEF,IAAI,CAACE,gBAA1D;AAA4EC,IAAAA,IAAI,EAAEH,IAAI,CAACG,IAAvF;AAA6FC,IAAAA,IAAI,EAAEJ,IAAI,CAACI,IAAxG;AAA8GC,IAAAA,IAAI,EAAEL,IAAI,CAACK,IAAzH;AAA+HC,IAAAA,GAAG,EAAEN,IAAI,CAACM,GAAzI;AAA8IC,IAAAA,OAAO,EAAE,CAAvJ;AAA0JC,IAAAA,aAAa,EAAER;AAAzK,GAAxB,CAAP;AACH;AACD;;;;;;AAIO,SAASS,aAAT,GAAyB;AAC5B,MAAIC,CAAC,GAAG,GAAR;AACA,MAAMC,CAAC,GAAG,IAAV;AACA,MAAMC,GAAG,GAAG,IAAZ;AACA,SAAO,UAAUC,CAAV,EAAa;AAChB,QAAIC,KAAK,GAAGD,CAAZ;;AACA,QAAIC,KAAK,IAAIF,GAAb,EAAkB;AACd,aAAOE,KAAP;AACH;;AACDA,IAAAA,KAAK,IAAIJ,CAAT;AACAA,IAAAA,CAAC,GAAGA,CAAC,GAAGC,CAAR;;AACA,QAAID,CAAC,GAAG,KAAR,EAAe;AACXA,MAAAA,CAAC,GAAG,KAAJ;AACH;;AACD,WAAOI,KAAP;AACH,GAXD;AAYH;;AACM,SAASC,WAAT,CAAqBf,IAArB,EAA2BgB,QAA3B,EAAqC;AACxC,MAAMC,QAAQ,GAAGjB,IAAI,CAACM,GAAL,KAAaY,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,SAAOF,QAAQ,CAACG,MAAT,CAAgB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACH,QAAD,CAAJ,KAAmBjB,IAAI,CAACiB,QAAD,CAA3B;AAAA,GAApB,EAA2D,CAA3D,CAAP;AACH;;AACM,SAASI,cAAT,CAAwBrB,IAAxB,EAA8BgB,QAA9B,EAAwC;AAC3C,MAAMC,QAAQ,GAAGjB,IAAI,CAACM,GAAL,KAAaY,SAAb,GAAyB,KAAzB,GAAiC,MAAlD;AACA,MAAMI,OAAO,GAAGN,QAAQ,CAACG,MAAT,CAAgB,UAAAC,IAAI;AAAA,WAAIA,IAAI,CAACH,QAAD,CAAJ,KAAmBjB,IAAI,CAACiB,QAAD,CAA3B;AAAA,GAApB,CAAhB;;AACA,MAAIK,OAAO,CAACC,MAAR,KAAmBP,QAAQ,CAACO,MAAhC,EAAwC;AACpC,WAAO,IAAP;AACH;;AACD,SAAOD,OAAP;AACH","sourcesContent":["export function T() {\n    return true;\n}\n// Fix IE file.status problem\n// via coping a new Object\nexport function fileToObject(file) {\n    return Object.assign({}, file, { lastModified: file.lastModified, lastModifiedDate: file.lastModifiedDate, name: file.name, size: file.size, type: file.type, uid: file.uid, percent: 0, originFileObj: file });\n}\n/**\n * 生成Progress percent: 0.1 -> 0.98\n *   - for ie\n */\nexport function genPercentAdd() {\n    let k = 0.1;\n    const i = 0.01;\n    const end = 0.98;\n    return function (s) {\n        let start = s;\n        if (start >= end) {\n            return start;\n        }\n        start += k;\n        k = k - i;\n        if (k < 0.001) {\n            k = 0.001;\n        }\n        return start;\n    };\n}\nexport function getFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n    const matchKey = file.uid !== undefined ? 'uid' : 'name';\n    const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n    if (removed.length === fileList.length) {\n        return null;\n    }\n    return removed;\n}\n"],"file":"utils.js"}