{"version":3,"sources":["carousel/index.jsx"],"names":["window","matchMediaPolyfill","mediaQuery","media","matches","addListener","removeListener","matchMedia","SlickCarousel","require","Carousel","props","onWindowResized","autoplay","slick","innerSlider","autoPlay","saveSlick","node","renderCarousel","getPrefixCls","effect","fade","className","prefixCls","vertical","leading","addEventListener","removeEventListener","cancel","slickNext","slickPrev","slide","dontAnimate","slickGoTo","React","Component","defaultProps","dots","arrows","draggable"],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport debounce from 'lodash/debounce';\nimport { ConfigConsumer } from '../config-provider';\n// matchMedia polyfill for\n// https://github.com/WickyNilliams/enquire.js/issues/82\nif (typeof window !== 'undefined') {\n    const matchMediaPolyfill = (mediaQuery) => {\n        return {\n            media: mediaQuery,\n            matches: false,\n            addListener() { },\n            removeListener() { },\n        };\n    };\n    window.matchMedia = window.matchMedia || matchMediaPolyfill;\n}\n// Use require over import (will be lifted up)\n// make sure matchMedia polyfill run before require('react-slick')\n// Fix https://github.com/ant-design/ant-design/issues/6560\n// Fix https://github.com/ant-design/ant-design/issues/3308\nconst SlickCarousel = require('react-slick').default;\nexport default class Carousel extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onWindowResized = () => {\n            // Fix https://github.com/ant-design/ant-design/issues/2550\n            const { autoplay } = this.props;\n            if (autoplay && this.slick && this.slick.innerSlider && this.slick.innerSlider.autoPlay) {\n                this.slick.innerSlider.autoPlay();\n            }\n        };\n        this.saveSlick = (node) => {\n            this.slick = node;\n        };\n        this.renderCarousel = ({ getPrefixCls }) => {\n            const props = Object.assign({}, this.props);\n            if (props.effect === 'fade') {\n                props.fade = true;\n            }\n            let className = getPrefixCls('carousel', props.prefixCls);\n            if (props.vertical) {\n                className = `${className} ${className}-vertical`;\n            }\n            return (<div className={className}>\n        <SlickCarousel ref={this.saveSlick} {...props}/>\n      </div>);\n        };\n        this.onWindowResized = debounce(this.onWindowResized, 500, {\n            leading: false,\n        });\n    }\n    componentDidMount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.addEventListener('resize', this.onWindowResized);\n        }\n        // https://github.com/ant-design/ant-design/issues/7191\n        this.innerSlider = this.slick && this.slick.innerSlider;\n    }\n    componentWillUnmount() {\n        const { autoplay } = this.props;\n        if (autoplay) {\n            window.removeEventListener('resize', this.onWindowResized);\n            this.onWindowResized.cancel();\n        }\n    }\n    next() {\n        this.slick.slickNext();\n    }\n    prev() {\n        this.slick.slickPrev();\n    }\n    goTo(slide, dontAnimate = false) {\n        this.slick.slickGoTo(slide, dontAnimate);\n    }\n    render() {\n        return <ConfigConsumer>{this.renderCarousel}</ConfigConsumer>;\n    }\n}\nCarousel.defaultProps = {\n    dots: true,\n    arrows: false,\n    draggable: false,\n};\n"],"file":"index.js"}