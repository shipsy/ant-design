{"version":3,"sources":["tag/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","PresetColorRegex","RegExp","PresetColorTypes","join","Tag","props","state","visible","handleIconClick","setVisible","renderTag","configProps","_a","customizePrefixCls","prefixCls","children","otherProps","divProps","getTagClassName","getTagStyle","renderCloseIcon","onClose","afterClose","defaultPrevented","setState","color","test","style","isPresetColor","backgroundColor","undefined","getPrefixCls","className","closable","nextProps","React","Component","CheckableTag","defaultProps"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Icon from '../icon';\nimport CheckableTag from './CheckableTag';\nimport { ConfigConsumer } from '../config-provider';\nimport { PresetColorTypes } from '../_util/colors';\nimport Wave from '../_util/wave';\nimport warning from '../_util/warning';\nconst PresetColorRegex = new RegExp(`^(${PresetColorTypes.join('|')})(-inverse)?$`);\nclass Tag extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            visible: true,\n        };\n        this.handleIconClick = (e) => {\n            this.setVisible(false, e);\n        };\n        this.renderTag = (configProps) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, children } = _a, otherProps = __rest(_a, [\"prefixCls\", \"children\"]);\n            const divProps = omit(otherProps, ['onClose', 'afterClose', 'color', 'visible', 'closable']);\n            return (<Wave>\n        <div {...divProps} className={this.getTagClassName(configProps)} style={this.getTagStyle()}>\n          {children}\n          {this.renderCloseIcon()}\n        </div>\n      </Wave>);\n        };\n        warning(!('afterClose' in props), 'Tag', \"'afterClose' will be deprecated, please use 'onClose', we will remove this in the next version.\");\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return {\n                visible: nextProps.visible,\n            };\n        }\n        return null;\n    }\n    setVisible(visible, e) {\n        const { onClose, afterClose } = this.props;\n        if (onClose) {\n            onClose(e);\n        }\n        if (afterClose && !onClose) {\n            // next version remove.\n            afterClose();\n        }\n        if (e.defaultPrevented) {\n            return;\n        }\n        if (!('visible' in this.props)) {\n            this.setState({ visible });\n        }\n    }\n    isPresetColor(color) {\n        if (!color) {\n            return false;\n        }\n        return PresetColorRegex.test(color);\n    }\n    getTagStyle() {\n        const { color, style } = this.props;\n        const isPresetColor = this.isPresetColor(color);\n        return Object.assign({ backgroundColor: color && !isPresetColor ? color : undefined }, style);\n    }\n    getTagClassName({ getPrefixCls }) {\n        const { prefixCls: customizePrefixCls, className, color } = this.props;\n        const { visible } = this.state;\n        const isPresetColor = this.isPresetColor(color);\n        const prefixCls = getPrefixCls('tag', customizePrefixCls);\n        return classNames(prefixCls, {\n            [`${prefixCls}-${color}`]: isPresetColor,\n            [`${prefixCls}-has-color`]: color && !isPresetColor,\n            [`${prefixCls}-hidden`]: !visible,\n        }, className);\n    }\n    renderCloseIcon() {\n        const { closable } = this.props;\n        return closable ? <Icon type=\"close\" onClick={this.handleIconClick}/> : null;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderTag}</ConfigConsumer>;\n    }\n}\nTag.CheckableTag = CheckableTag;\nTag.defaultProps = {\n    closable: false,\n};\npolyfill(Tag);\nexport default Tag;\n"],"file":"index.js"}