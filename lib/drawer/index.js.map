{"version":3,"sources":["drawer/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","DrawerContext","PlacementTypes","Drawer","arguments","state","push","close","props","visible","undefined","onClose","onMaskClick","maskClosable","setState","pull","onDestroyTransitionEnd","isDestroyOnClose","getDestroyOnClose","destroyClose","forceUpdate","destroyOnClose","getPushTransform","placement","getRcDrawerStyle","zIndex","style","transform","renderBody","bodyStyle","prefixCls","containerStyle","overflow","height","opacity","transition","renderHeader","children","renderProvider","value","_a","className","wrapClassName","width","rest","haveMask","mask","parentDrawer","offsetStyle","preProps","title","closable","headerClassName","renderCloseIcon","React","Component","propTypes","PropTypes","bool","getContainer","oneOfType","string","object","func","maskStyle","node","number","oneOf","defaultProps","level"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport RcDrawer from 'rc-drawer';\nimport createReactContext from 'create-react-context';\nimport warning from '../_util/warning';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport { withConfigConsumer } from '../config-provider';\nimport { tuple } from '../_util/type';\nconst DrawerContext = createReactContext(null);\nconst PlacementTypes = tuple('top', 'right', 'bottom', 'left');\nclass Drawer extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            push: false,\n        };\n        this.close = (e) => {\n            if (this.props.visible !== undefined) {\n                if (this.props.onClose) {\n                    this.props.onClose(e);\n                }\n                return;\n            }\n        };\n        this.onMaskClick = (e) => {\n            if (!this.props.maskClosable) {\n                return;\n            }\n            this.close(e);\n        };\n        this.push = () => {\n            this.setState({\n                push: true,\n            });\n        };\n        this.pull = () => {\n            this.setState({\n                push: false,\n            });\n        };\n        this.onDestroyTransitionEnd = () => {\n            const isDestroyOnClose = this.getDestroyOnClose();\n            if (!isDestroyOnClose) {\n                return;\n            }\n            if (!this.props.visible) {\n                this.destroyClose = true;\n                this.forceUpdate();\n            }\n        };\n        this.getDestroyOnClose = () => this.props.destroyOnClose && !this.props.visible;\n        // get drawar push width or height\n        this.getPushTransform = (placement) => {\n            if (placement === 'left' || placement === 'right') {\n                return `translateX(${placement === 'left' ? 180 : -180}px)`;\n            }\n            if (placement === 'top' || placement === 'bottom') {\n                return `translateY(${placement === 'top' ? 180 : -180}px)`;\n            }\n        };\n        this.getRcDrawerStyle = () => {\n            const { zIndex, placement, style } = this.props;\n            const { push } = this.state;\n            return Object.assign({ zIndex, transform: push ? this.getPushTransform(placement) : undefined }, style);\n        };\n        // render drawer body dom\n        this.renderBody = () => {\n            const { bodyStyle, placement, prefixCls, visible } = this.props;\n            if (this.destroyClose && !visible) {\n                return null;\n            }\n            this.destroyClose = false;\n            const containerStyle = placement === 'left' || placement === 'right'\n                ? {\n                    overflow: 'auto',\n                    height: '100%',\n                }\n                : {};\n            const isDestroyOnClose = this.getDestroyOnClose();\n            if (isDestroyOnClose) {\n                // Increase the opacity transition, delete children after closing.\n                containerStyle.opacity = 0;\n                containerStyle.transition = 'opacity .3s';\n            }\n            return (<div className={`${prefixCls}-wrapper-body`} style={containerStyle} onTransitionEnd={this.onDestroyTransitionEnd}>\n        {this.renderHeader()}\n        <div className={`${prefixCls}-body`} style={bodyStyle}>\n          {this.props.children}\n        </div>\n      </div>);\n        };\n        // render Provider for Multi-level drawe\n        this.renderProvider = (value) => {\n            const _a = this.props, { prefixCls, zIndex, style, placement, className, wrapClassName, width, height } = _a, rest = __rest(_a, [\"prefixCls\", \"zIndex\", \"style\", \"placement\", \"className\", \"wrapClassName\", \"width\", \"height\"]);\n            warning(wrapClassName === undefined, 'Drawer', 'wrapClassName is deprecated, please use className instead.');\n            const haveMask = rest.mask ? '' : 'no-mask';\n            this.parentDrawer = value;\n            const offsetStyle = {};\n            if (placement === 'left' || placement === 'right') {\n                offsetStyle.width = width;\n            }\n            else {\n                offsetStyle.height = height;\n            }\n            return (<DrawerContext.Provider value={this}>\n        <RcDrawer handler={false} {...rest} {...offsetStyle} prefixCls={prefixCls} open={this.props.visible} onMaskClick={this.onMaskClick} showMask={this.props.mask} placement={placement} style={this.getRcDrawerStyle()} className={classNames(wrapClassName, className, haveMask)}>\n          {this.renderBody()}\n        </RcDrawer>\n      </DrawerContext.Provider>);\n        };\n    }\n    componentDidUpdate(preProps) {\n        if (preProps.visible !== this.props.visible && this.parentDrawer) {\n            if (this.props.visible) {\n                this.parentDrawer.push();\n            }\n            else {\n                this.parentDrawer.pull();\n            }\n        }\n    }\n    renderHeader() {\n        const { title, prefixCls, closable } = this.props;\n        if (!title && !closable) {\n            return null;\n        }\n        const headerClassName = title ? `${prefixCls}-header` : `${prefixCls}-header-no-title`;\n        return (<div className={headerClassName}>\n        {title && <div className={`${prefixCls}-title`}>{title}</div>}\n        {closable && this.renderCloseIcon()}\n      </div>);\n    }\n    renderCloseIcon() {\n        const { closable, prefixCls } = this.props;\n        return (closable && (<button onClick={this.close} aria-label=\"Close\" className={`${prefixCls}-close`}>\n          <Icon type=\"close\"/>\n        </button>));\n    }\n    render() {\n        return <DrawerContext.Consumer>{this.renderProvider}</DrawerContext.Consumer>;\n    }\n}\nDrawer.propTypes = {\n    closable: PropTypes.bool,\n    destroyOnClose: PropTypes.bool,\n    getContainer: PropTypes.oneOfType([\n        PropTypes.string,\n        PropTypes.object,\n        PropTypes.func,\n        PropTypes.bool,\n    ]),\n    maskClosable: PropTypes.bool,\n    mask: PropTypes.bool,\n    maskStyle: PropTypes.object,\n    style: PropTypes.object,\n    title: PropTypes.node,\n    visible: PropTypes.bool,\n    width: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n    zIndex: PropTypes.number,\n    prefixCls: PropTypes.string,\n    placement: PropTypes.oneOf(PlacementTypes),\n    onClose: PropTypes.func,\n    className: PropTypes.string,\n};\nDrawer.defaultProps = {\n    width: 256,\n    height: 256,\n    closable: true,\n    placement: 'right',\n    maskClosable: true,\n    mask: true,\n    level: null,\n};\nexport default withConfigConsumer({\n    prefixCls: 'drawer',\n})(Drawer);\n"],"file":"index.js"}