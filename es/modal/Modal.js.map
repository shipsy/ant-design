{"version":3,"sources":["modal/Modal.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","Dialog","PropTypes","classNames","addEventListener","getConfirmLocale","Icon","Button","LocaleReceiver","ConfigConsumer","mousePosition","mousePositionEventBinded","destroyFns","Modal","arguments","handleCancel","onCancel","props","handleOk","onOk","renderFooter","locale","okText","okType","cancelText","confirmLoading","cancelButtonProps","okButtonProps","renderModal","getPrefixCls","_a","customizePrefixCls","prefixCls","footer","visible","wrapClassName","centered","restProps","defaultFooter","closeIcon","undefined","document","documentElement","x","pageX","y","pageY","setTimeout","Component","defaultProps","width","transitionName","maskTransitionName","okButtonDisabled","cancelButtonDisabled","propTypes","string","func","node","bool","oneOfType","number","align","object","title","closable"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport Dialog from 'rc-dialog';\nimport * as PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport addEventListener from 'rc-util/lib/Dom/addEventListener';\nimport { getConfirmLocale } from './locale';\nimport Icon from '../icon';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport { ConfigConsumer } from '../config-provider';\nlet mousePosition;\nlet mousePositionEventBinded;\nexport const destroyFns = [];\nexport default class Modal extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.handleCancel = (e) => {\n            const onCancel = this.props.onCancel;\n            if (onCancel) {\n                onCancel(e);\n            }\n        };\n        this.handleOk = (e) => {\n            const onOk = this.props.onOk;\n            if (onOk) {\n                onOk(e);\n            }\n        };\n        this.renderFooter = (locale) => {\n            const { okText, okType, cancelText, confirmLoading } = this.props;\n            return (<div>\n        <Button onClick={this.handleCancel} {...this.props.cancelButtonProps}>\n          {cancelText || locale.cancelText}\n        </Button>\n        <Button type={okType} loading={confirmLoading} onClick={this.handleOk} {...this.props.okButtonProps}>\n          {okText || locale.okText}\n        </Button>\n      </div>);\n        };\n        this.renderModal = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, footer, visible, wrapClassName, centered } = _a, restProps = __rest(_a, [\"prefixCls\", \"footer\", \"visible\", \"wrapClassName\", \"centered\"]);\n            const prefixCls = getPrefixCls('modal', customizePrefixCls);\n            const defaultFooter = (<LocaleReceiver componentName=\"Modal\" defaultLocale={getConfirmLocale()}>\n        {this.renderFooter}\n      </LocaleReceiver>);\n            const closeIcon = (<span className={`${prefixCls}-close-x`}>\n        <Icon className={`${prefixCls}-close-icon`} type={'close'}/>\n      </span>);\n            return (<Dialog {...restProps} prefixCls={prefixCls} wrapClassName={classNames({ [`${prefixCls}-centered`]: !!centered }, wrapClassName)} footer={footer === undefined ? defaultFooter : footer} visible={visible} mousePosition={mousePosition} onClose={this.handleCancel} closeIcon={closeIcon}/>);\n        };\n    }\n    componentDidMount() {\n        if (mousePositionEventBinded) {\n            return;\n        }\n        // 只有点击事件支持从鼠标位置动画展开\n        addEventListener(document.documentElement, 'click', (e) => {\n            mousePosition = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n            // 100ms 内发生过点击事件，则从点击位置动画展示\n            // 否则直接 zoom 展示\n            // 这样可以兼容非点击方式展开\n            setTimeout(() => (mousePosition = null), 100);\n        });\n        mousePositionEventBinded = true;\n    }\n    render() {\n        return <ConfigConsumer>{this.renderModal}</ConfigConsumer>;\n    }\n}\nModal.defaultProps = {\n    width: 520,\n    transitionName: 'zoom',\n    maskTransitionName: 'fade',\n    confirmLoading: false,\n    visible: false,\n    okType: 'primary',\n    okButtonDisabled: false,\n    cancelButtonDisabled: false,\n};\nModal.propTypes = {\n    prefixCls: PropTypes.string,\n    onOk: PropTypes.func,\n    onCancel: PropTypes.func,\n    okText: PropTypes.node,\n    cancelText: PropTypes.node,\n    centered: PropTypes.bool,\n    width: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    confirmLoading: PropTypes.bool,\n    visible: PropTypes.bool,\n    align: PropTypes.object,\n    footer: PropTypes.node,\n    title: PropTypes.node,\n    closable: PropTypes.bool,\n};\n"],"file":"Modal.js"}