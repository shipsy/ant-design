{"version":3,"sources":["popconfirm/index.jsx"],"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","React","polyfill","Tooltip","Icon","Button","LocaleReceiver","defaultLocale","ConfigConsumer","Popconfirm","props","onConfirm","setVisible","onCancel","onVisibleChange","visible","saveTooltip","node","tooltip","renderOverlay","prefixCls","popconfirmLocale","okButtonProps","cancelButtonProps","title","cancelText","okText","okType","icon","renderConfirm","getPrefixCls","_a","customizePrefixCls","placement","restProps","overlay","state","getPopupDomNode","setState","nextProps","defaultVisible","Component","defaultProps","transitionName","trigger"],"mappings":"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","sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport Tooltip from '../tooltip';\nimport Icon from '../icon';\nimport Button from '../button';\nimport LocaleReceiver from '../locale-provider/LocaleReceiver';\nimport defaultLocale from '../locale-provider/default';\nimport { ConfigConsumer } from '../config-provider';\nclass Popconfirm extends React.Component {\n    constructor(props) {\n        super(props);\n        this.onConfirm = (e) => {\n            this.setVisible(false, e);\n            const { onConfirm } = this.props;\n            if (onConfirm) {\n                onConfirm.call(this, e);\n            }\n        };\n        this.onCancel = (e) => {\n            this.setVisible(false, e);\n            const { onCancel } = this.props;\n            if (onCancel) {\n                onCancel.call(this, e);\n            }\n        };\n        this.onVisibleChange = (visible) => {\n            this.setVisible(visible);\n        };\n        this.saveTooltip = (node) => {\n            this.tooltip = node;\n        };\n        this.renderOverlay = (prefixCls, popconfirmLocale) => {\n            const { okButtonProps, cancelButtonProps, title, cancelText, okText, okType, icon, } = this.props;\n            return (<div>\n        <div className={`${prefixCls}-inner-content`}>\n          <div className={`${prefixCls}-message`}>\n            {icon}\n            <div className={`${prefixCls}-message-title`}>{title}</div>\n          </div>\n          <div className={`${prefixCls}-buttons`}>\n            <Button onClick={this.onCancel} size=\"small\" {...cancelButtonProps}>\n              {cancelText || popconfirmLocale.cancelText}\n            </Button>\n            <Button onClick={this.onConfirm} type={okType} size=\"small\" {...okButtonProps}>\n              {okText || popconfirmLocale.okText}\n            </Button>\n          </div>\n        </div>\n      </div>);\n        };\n        this.renderConfirm = ({ getPrefixCls }) => {\n            const _a = this.props, { prefixCls: customizePrefixCls, placement } = _a, restProps = __rest(_a, [\"prefixCls\", \"placement\"]);\n            const prefixCls = getPrefixCls('popover', customizePrefixCls);\n            const overlay = (<LocaleReceiver componentName=\"Popconfirm\" defaultLocale={defaultLocale.Popconfirm}>\n        {(popconfirmLocale) => this.renderOverlay(prefixCls, popconfirmLocale)}\n      </LocaleReceiver>);\n            return (<Tooltip {...restProps} prefixCls={prefixCls} placement={placement} onVisibleChange={this.onVisibleChange} visible={this.state.visible} overlay={overlay} ref={this.saveTooltip}/>);\n        };\n        this.state = {\n            visible: props.visible,\n        };\n    }\n    static getDerivedStateFromProps(nextProps) {\n        if ('visible' in nextProps) {\n            return { visible: nextProps.visible };\n        }\n        else if ('defaultVisible' in nextProps) {\n            return { visible: nextProps.defaultVisible };\n        }\n        return null;\n    }\n    getPopupDomNode() {\n        return this.tooltip.getPopupDomNode();\n    }\n    setVisible(visible, e) {\n        const props = this.props;\n        if (!('visible' in props)) {\n            this.setState({ visible });\n        }\n        const { onVisibleChange } = props;\n        if (onVisibleChange) {\n            onVisibleChange(visible, e);\n        }\n    }\n    render() {\n        return <ConfigConsumer>{this.renderConfirm}</ConfigConsumer>;\n    }\n}\nPopconfirm.defaultProps = {\n    transitionName: 'zoom-big',\n    placement: 'top',\n    trigger: 'click',\n    okType: 'primary',\n    icon: <Icon type=\"exclamation-circle\" theme=\"filled\"/>,\n};\npolyfill(Popconfirm);\nexport default Popconfirm;\n"],"file":"index.js"}